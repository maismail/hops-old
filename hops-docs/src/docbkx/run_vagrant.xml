<?xml version="1.0" encoding="UTF-8"?>
<section version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:ns5="http://www.w3.org/2000/svg"
         xmlns:ns4="http://www.w3.org/1998/Math/MathML"
         xmlns:ns3="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">

    <para>
        This section describes the steps required to deploy a whole cluster 
        on a single machine using git, vagrant, and chef.
    </para>

    <section>
        <title>Pre-requisites:</title>
        <para>
            You should have the following programs installed:
            git, vagrant. You will also need to download the vagrant virtual machine image
            for Ubuntu 12.04 "precise".
            <programlisting>
        apt-get install git-core vagrant
        vagrant box add "precise64" http://files.vagrantup.com/precise64.box
            </programlisting>
        </para>
    </section>

    <section>
        <title>Launching Vagrant</title>
        <para>
            You now need to clone our chef recipes, and then launch a vagrant instance.
        </para>
        <informalexample>
            <programlisting>
                <!--<screen>-->
        git clone https://github.com/hopstart/hop-chef.git
        cd hop-chef
        vagrant up
                <!--</screen>-->
            </programlisting>
        </informalexample>        
        Now grab a coffee, assuming you have a good network connection, 
        it will take around 15 minutes to provision vagrant instance.
        When vagrant successfully completes provisioning using chef, 
        you can point your browser at the following URL to open the Hop Dashboard:
        <programlisting>
            
            https://localhost:9191/hops-dashboard/
            user: admin
            password: jim
        </programlisting>
        You can log into the VM and then get root access using:
        <programlisting>
            vagrant ssh
            sudo su
        </programlisting>

        If needed, you can configure the glassfish webserver here:
        <programlisting>
            https://localhost:5858
            user: admin
            password: admin
        </programlisting>        

        You can now jump to <xref linkend="ch03"/>.
    </section>
</section>
